# Browser Helper - Chrome Extension

AI 기반 웹페이지 요약 및 질의응답 크롬 익스텐션입니다.

현재 보고 있는 웹페이지의 내용을 기반으로 AI와 자유롭게 대화하며 원하는 형태로 정보를 요약하고 질문할 수 있습니다.

## 주요 기능

- **페이지 컨텍스트 자동 인식**: 익스텐션을 열면 현재 페이지의 텍스트를 자동으로 추출합니다
- **AI 채팅**: OpenAI API를 사용하여 페이지 내용에 대해 자유롭게 질문하고 답변을 받을 수 있습니다
- **동적 요약 및 질의응답**: "이 페이지 3줄로 요약해줘", "핵심 키워드가 뭐야?" 등 원하는 형태로 질문할 수 있습니다
- **API 키 관리**: OpenAI API 키를 안전하게 로컬 스토리지에 저장합니다
- **친근한 오류 처리**: 모든 오류를 AI 에이전트가 대화하는 형식으로 안내합니다

## 프로젝트 구조

```
07_extension_browser_helper/
├── manifest.json          # 익스텐션 설정 파일 (Manifest V3)
├── popup.html            # 팝업 UI HTML
├── popup.css             # 팝업 스타일
├── popup.js              # 팝업 로직 (API 키 관리, 채팅, OpenAI API 연동)
├── content.js            # 웹 페이지 텍스트 추출 스크립트
├── CLADUE.md             # 프로젝트 명세서
└── README.md             # 프로젝트 문서
```

## 설치 방법

### 개발자 모드로 설치

1. Chrome 브라우저를 열고 주소창에 `chrome://extensions/` 입력
2. 우측 상단의 "개발자 모드" 토글을 활성화
3. "압축해제된 확장 프로그램을 로드합니다" 버튼 클릭
4. `07_extension_browser_helper` 폴더 선택
5. 익스텐션이 로드되면 브라우저 툴바에 아이콘이 표시됩니다

## 사용 방법

### 1. API 키 설정

1. 브라우저 툴바에서 Browser Helper 아이콘을 클릭합니다
2. 최상단 입력창에 OpenAI API 키를 입력합니다
3. "저장" 버튼을 클릭합니다
4. API 키는 브라우저 로컬 스토리지에 안전하게 저장됩니다

### 2. 페이지 내용 질의응답

1. 원하는 웹페이지에 접속합니다
2. Browser Helper 아이콘을 클릭하여 팝업을 엽니다
3. 익스텐션이 자동으로 페이지의 텍스트를 추출합니다
4. 하단 입력창에 질문을 입력합니다:
   - "이 페이지 3줄로 요약해줘"
   - "핵심 키워드가 뭐야?"
   - "이 글의 저자에 대해 알려줘"
5. 전송 버튼을 클릭하거나 Enter 키를 누릅니다
6. AI의 답변을 기다립니다 (로딩 인디케이터 표시)
7. 채팅 형식으로 답변이 표시됩니다

### 3. 대화 이어가기

- 이전 대화 맥락이 유지되므로 연속적으로 질문할 수 있습니다
- 새로운 페이지로 이동하면 팝업을 다시 열어 새 페이지의 내용을 분석할 수 있습니다

## 기술 스택

- **Manifest V3**: 최신 Chrome Extension API
- **Vanilla JavaScript**: 프레임워크 없는 순수 자바스크립트
- **OpenAI API**: gpt-4o-mini 모델 사용
- **Chrome Storage API**: API 키 저장
- **Chrome Tabs API**: 현재 탭 정보 접근
- **Chrome Scripting API**: 페이지 텍스트 추출
- **Content Scripts**: 웹 페이지 DOM 접근

## 개발 가이드

### 코드 수정 후 업데이트

1. `chrome://extensions/` 페이지 접속
2. Browser Helper 익스텐션 카드에서 새로고침 아이콘 클릭
3. 변경사항이 즉시 반영됩니다

### 디버깅

- **팝업 디버깅**: 팝업을 연 상태에서 우클릭 → "검사"
- **Content Script 디버깅**: 웹 페이지에서 F12 → Console 탭에서 "Browser Helper: Content script loaded" 메시지 확인

### API 모델 변경

`popup.js` 파일의 234번 라인에서 모델을 변경할 수 있습니다:

```javascript
model: 'gpt-4o-mini',  // 다른 모델로 변경 가능
```

## 권한 설명

- `activeTab`: 현재 활성화된 탭의 정보 접근
- `storage`: API 키를 로컬 스토리지에 안전하게 저장
- `scripting`: 페이지의 텍스트 추출을 위한 스크립트 실행
- `<all_urls>`: 모든 웹사이트에서 작동

## 오류 처리

모든 오류는 AI 에이전트가 친근하게 안내합니다:

- **API 키 오류**: "입력하신 API 키가 유효하지 않은 것 같아요. 상단의 입력창에서 키를 다시 한번 확인해 주시겠어요?"
- **네트워크 오류**: "죄송합니다, 지금 네트워크에 연결할 수 없어 답변을 드릴 수 없어요. 잠시 후 다시 시도해 주세요."
- **텍스트 없음**: "이 페이지에서는 요약할 만한 텍스트를 찾지 못했어요. 다른 텍스트가 많은 페이지에서 시도해 보시겠어요?"

## OpenAI API 키 발급

1. [OpenAI Platform](https://platform.openai.com/)에 접속
2. 계정 생성 또는 로그인
3. API Keys 메뉴에서 새 API 키 생성
4. 생성된 키를 복사하여 익스텐션에 입력

## 주의사항

- OpenAI API 사용에는 비용이 발생할 수 있습니다
- API 키는 절대 공유하지 마세요
- 페이지 텍스트는 최대 10,000자까지 API에 전송됩니다
- 민감한 정보가 포함된 페이지에서는 주의해서 사용하세요

## 라이선스

MIT License
